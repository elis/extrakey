<? include partials/header-ember ?>
<body class="metro">


    <script type="text/x-handlebars" data-template-name="main">

    </script>
 <?
    function tileGroup (group) {
        console.log('Tile Group:', group);
        ?><div class="tile-group <?= group.width ?>"><?
        if (group.title) {
            ?><div class="tile-group-title"><?= group.title ?></div><?
        }
        if (group.items && group.items.length > 0) { 
            for (var i in group.items) {
                if (group.items[i].type == 'tile') {
                    tileIt(group.items[i]);
                }
            }
        } else {
            ?><h1>Group:</h1> <p>No items in group</p><?
        }
        ?></div><?
    }
 
    function tileIt (tile) {
        var classes = [];
        if (tile.width) { classes.push(tile.width); }
        if (tile.color) { classes.push(tile.color); }

        tile.classes = classes.join(' ');
        ?><a href="#" class="tile key <?=tile.classes?>" data-key="<?=tile.key?>" data-click="transform"><?
        if (tile.icon || tile.background) {
            if (tile.background) { 
                var style = 'style="background: '+tile.background+';"'; 
            }
            ?><div class="tile-content <?= tile.icon ? 'icon' : '' ?>" <?- style ?>>
                <? if (tile.icon) { ?><span class="<?=tile.icon?>"></span><? } ?>
            </div><?
        }
        if (tile.title) {
                ?><div class="brand <?= tile['title-background'] ? tile['title-background'] : '' ?>">
                <span class="text">
                    <?= tile.title ?>
                </span>
            </div><?
        }
        ?></a><?
    }
 console.log((new Array(40)).join('='));
 console.log(keys);
 console.log((new Array(40)).join('='));
 ?>
		
		
			<div class="tile-area tile-area-dark">
				<h1 class="tile-area-title fg-white">ExtraKey</h1>
				<div class="user-id">
						<div class="user-id-image">
								<span class="icon-user no-display1"></span>
								<img src="" class="no-display">
						</div>
						<div class="user-id-name">
								<span class="first-name">Eli</span>
								<span class="last-name">Sklar</span>
						</div>
				</div>
				
		<? for (var i in keys) { ?>
			<? var key = keys[i]; ?>
			<? if (key.type == 'group') { ?>
				<? tileGroup(key); ?>
			<? } ?>
		<? } ?>

				<div class="tile-group six">

						<a class="tile double bg-lightBlue live" data-role="live-tile" data-effect="slideUp" data-click="transform">
								<div class="tile-content email">
										<div class="email-image">
												<img src="">
										</div>
										<div class="email-data">
												<span class="email-data-title">Barak Obama</span>
												<span class="email-data-subtitle">You're invited</span>
												<span class="email-data-text">I hope that you can make and make</span>
										</div>
								</div>
								<div class="tile-content email">
										<div class="email-image">
												<img src="">
										</div>
										<div class="email-data">
												<span class="email-data-title">Jolie &amp; Bred</span>
												<span class="email-data-subtitle">You're invited</span>
												<span class="email-data-text">I hope that you can make and make</span>
										</div>
								</div>
								<div class="tile-content email">
										<div class="email-image">
												<img src="">
										</div>
										<div class="email-data">
												<span class="email-data-title">Arny</span>
												<span class="email-data-subtitle">You're invited</span>
												<span class="email-data-text">I hope that you can make and make</span>
										</div>
								</div>
								<div class="brand">
										<div class="label"><h3 class="no-margin fg-white"><span class="icon-mail"></span></h3></div>
										<div class="badge">3</div>
								</div>
						</a> <!-- end tile -->

						<a class="tile double bg-violet" data-click="transform">
								<div class="tile-content">
										<div class="text-right padding10 ntp">
												<h1 class="fg-white no-margin">10</h1>
												<p class="fg-white">Sunday</p>
										</div>
								</div>
								<div class="brand">
										<div class="label"><h3 class="no-margin fg-white"><span class="icon-calendar"></span></h3></div>
								</div>
						</a> <!-- end tile -->

						<div class="tile" data-click="transform">
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="brand">
										<div class="label fg-amber">Photos</div>
								</div>
						</div> <!-- end tile -->

						<!-- small tiles -->
						<a href="#" class="tile half bg-darkRed" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-camera"></span>
								</div>
						</a>

						<a href="#" class="tile half bg-darkOrange" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-headphones"></span>
								</div>
						</a>

						<a href="#" class="tile half bg-green" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-steering-wheel"></span>
								</div>
						</a>

						<a href="#" class="tile half bg-darkPink" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-pictures"></span>
								</div>
						</a>
						<!-- end small tiles -->

						<a class="tile double double-vertical bg-steel" data-click="transform">
								<div class="tile-content" style="background: url(images/clouds2.png)">
										<div class="padding10">
												<h1 class="fg-white ntm">57&deg;</h1>
												<h2 class="fg-white no-margin">San Francisco</h2>
												<h5 class="fg-white no-margin">Party Cloudy</h5>
												<p class="tertiary-text fg-white no-margin">Today</p>
												<p class="tertiary-text fg-white">63&deg;/55&deg; Mostly Clear</p>
												<p class="tertiary-text fg-white no-margin">Tomorrow</p>
												<p class="tertiary-text fg-white">64&deg;/54&deg; Mostly Clear</p>
										</div>

								</div>
								<div class="tile-status">
										<div class="label">Weather</div>
								</div>
						</a> <!-- end tile -->

						<div class="tile double" data-click="transform">
								<div class="tile-content image-set">
										<img src="">
										<img src="">
										<img src="">
										<img src="">
										<img src="">
								</div>
						</div> <!-- end tile -->

						<a href="#" class="tile bg-lightBlue" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-IE"></span>
								</div>
								<div class="brand">
										<div class="label">Internet Explorer</div>
								</div>
						</a>

						<a href="#" class="tile bg-darkOrange" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-help"></span>
								</div>
								<div class="brand">
										<div class="label">Help+Tips</div>
								</div>
						</a>

						<a class="tile double bg-lightBlue" data-click="transform">
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="brand">
										<div class="label">Desktop</div>
								</div>
						</a>

						<a class="tile double bg-darkGreen" data-click="transform">
								<div class="tile-content icon">
										<span class="icon-cart-2"></span>
								</div>
								<div class="brand">
										<div class="label">Store</div>
								</div>
						</a>
				</div> <!-- End group -->

				<div class="tile-group one">
						<div class="tile-group-title">Office</div>
						<a class="tile half bg-darkBlue" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
						<a class="tile half bg-darkGreen" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
						<a class="tile half bg-darkPink" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
						<a class="tile half bg-orange" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
						<a class="tile half bg-lightBlue" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
						<a class="tile half bg-darkRed" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
						</a>
				</div> <!-- End tile group -->

				<div class="tile-group double">
						<div class="tile-group-title">Games</div>
						<div class="tile bg-dark" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
								<div class="brand">
										<div class="label">Crysis 2</div>
								</div>
						</div>
						<div class="tile bg-dark" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
								<div class="brand">
										<div class="label">Battlefield 4</div>
								</div>
						</div>
						<div class="tile bg-dark" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
								<div class="brand">
										<div class="label">Diablo III</div>
								</div>
						</div>
						<div class="tile bg-dark" data-click="transform">
								<div class="tile-content icon">
										<img src="">
								</div>
								<div class="brand">
										<div class="label">Grid 2</div>
								</div>
						</div>
				</div> <!-- End group -->

				<div class="tile-group double">
						<div class="tile double" data-click="transform">
								<div class="tile-content image-set">
										<img src="">
										<img src="">
										<img src="">
										<img src="">
										<img src="">
								</div>
						</div>
						<div class="tile double live" data-role="live-tile" data-effect="slideUpDown" data-click="transform">
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="tile-content image">
										<img src="">
								</div>
								<div class="tile-content image">
										<img src="">
								</div>

								<div class="tile-status">
										<span class="label">Images</span>
								</div>
						</div>
				</div>
			</div>

	</body>
</html>